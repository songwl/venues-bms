<#macro table>
    <div class="panel-body">
        <table class="table table-bordered table-striped table-condensed">
            <#nested />
        </table>
    </div>
</#macro>

<#macro form action>
	<div class="panel-body">
	    <form class="form-horizontal" action=${action} method="post">
	        <#nested />
	    </form>
    </div>
</#macro>

<#macro validForm action callurl>
	<div class="panel-body">
	    <form valid class="cmxform form-horizontal" action=${action} method="post" onsubmit="return false;" <#if callurl??>callurl="${callurl}"</#if>>
	        <#nested />
	    </form>
    </div>
</#macro>

<#macro queryForm action>
	<div class="panel-body">
	    <form query class="form-inline" action=${action} method="post">
	        <#nested />
	    </form>
    </div>
</#macro>

<#macro formGroup label name="">
    <div class="form-group">
        <label for="${name}" class="control-label col-sm-2">${label}</label>
        <div class="col-sm-6">
            <#nested/>
        </div>
    </div>
</#macro>

<#macro formInput type name label value valid>
    <div class="form-group">
        <label for="${name}" class="control-label col-sm-2">${label}</label>
        <div class="col-sm-6">
            <input type="${type}" class="form-control ${valid}" name="${name}"  <#if value??>value="${value}"</#if>/>
        </div>
    </div>
</#macro>

<#macro formSelect name label valid>
    <div class="form-group">
        <label for="${name}" class="control-label col-sm-2">${label}</label>
        <div class="col-sm-6">
        	<select name="${name}" class="form-control m-bot15 ${valid}">
                <#nested/>
            </select>
        </div>
    </div>
</#macro>

<#macro input label name="">
    <div class="form-group">
        <label class="text-right col-md-2">${label}</label>
        <#nested/>
    </div>
</#macro>

<#macro tree list idFieldName="id" pidFieldName="pid" nameFieldName="name" childFieldName="children"
	selectable=false multiSelect=false selectName="">
    <#if list?? && list?size gt 0>
    <div class="tree tree-solid-line func-tree">
    	<#list list as listItem>
	    	<@_tree listItem idFieldName pidFieldName nameFieldName childFieldName selectable multiSelect selectName />
	    </#list>
	</div>
	</#if>
</#macro>

<#macro _tree listItem idFieldName pidFieldName nameFieldName childFieldName selectable multiSelect selectName>
	<#if listItem[childFieldName]?? && listItem[childFieldName]?size gt 0>
		<@_treeFolder listItem idFieldName pidFieldName nameFieldName childFieldName selectable multiSelect selectName />
	<#else>
		<@_treeItem listItem idFieldName pidFieldName nameFieldName selectable multiSelect selectName />
	</#if>
</#macro>

<#macro _treeFolder floder idFieldName pidFieldName nameFieldName childFieldName selectable multiSelect selectName>
	<div class="tree-folder">
        <div class="tree-folder-header">
            <#if selectable>
        		<#if multiSelect>
        			<input type="checkbox" value="${item[idFieldName]}" name="${selectName}" />
        		<#else>
        			<input type="radio" value="${item[idFieldName]}" name="${selectName}" />
        		</#if>
        	</#if>
            <i class="fa fa-folder"></i>
            <div class="tree-folder-name">
            	
            	${floder[nameFieldName]}
            </div>
        </div>
        <div class="tree-folder-content" style="display:none;">
        	<#list floder[childFieldName] as floderItem>
        		<@_tree floderItem idFieldName pidFieldName nameFieldName childFieldName selectable multiSelect selectName />
        	</#list>
        </div>
    </div>
</#macro>

<#macro _treeItem item idFieldName pidFieldName nameFieldName selectable multiSelect selectName>
	<div class="tree-item">
        <i class="tree-dot"></i>
        <div class="tree-item-name">
        	<#if selectable>
        		<#if multiSelect>
        			<input type="checkbox" value="${item[idFieldName]}" name="${selectName}" />
        		<#else>
        			<input type="radio" value="${item[idFieldName]}" name="${selectName}" />
        		</#if>
        	</#if>
        	${item[nameFieldName]}
        </div>
    </div>
</#macro>